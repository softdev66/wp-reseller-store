"use strict";!function(a){function b(){var a=parseInt(g(h),10);c(a),a>0&&e()}function c(b){b="undefined"!=typeof b.cartCount?b.cartCount:b,b=b?parseInt(b,10):0,f(h,b),a(".rstore-cart-count").text(b)}function d(b){b.preventDefault();var d=a(this),e=d.attr("data-id"),f=parseInt(d.attr("data-qty"),10);d.css("opacity",.5);var g={items:[{id:e,quantity:f>0?f:1,periodCount:1}]};a.post({url:rstore.cart_api_url,dataType:"json",contentType:"application/json",data:JSON.stringify(g),crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(a){c(a)}).always(function(){d.css("opacity",1)})}function e(){a.get({url:rstore.cart_api_url,dataType:"json",contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(a){c(a)})}function f(a,b,c){var d=new Date;c=c?c:30,d.setTime(d.getTime()+86400*c*1e3),document.cookie=a+"="+b+"; expires="+d.toGMTString()+"; path=/"}function g(a){var b=document.cookie.split(";");a+="=";for(var c=0;c<b.length;c++){for(var d=b[c];" "===d.charAt(0);)d=d.substring(1);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null}var h="rstore-cart-count";a(document).ready(function(a){b(),a(document).on("click",".rstore-add-to-cart",d)})}(jQuery);