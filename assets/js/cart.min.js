!function(a){function b(b){var c="undefined"!=typeof b.cartCount&&b.cartCount?b.cartCount:0;a(".rstore-cart-count").text(parseInt(c))}function c(){a.ajax({method:"GET",url:rstore.cart_api_url,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json"}).done(function(a){b(a)})}function d(c){c.preventDefault();var d=a(this),e=d.data("redirect"),f={items:[{id:d.data("plan"),quantity:1,periodCount:1}]};d.prop("disabled",!0),a.ajax({method:"POST",url:rstore.cart_api_url,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json",dataType:"json",data:JSON.stringify(f)}).done(function(a){return"true"===e?void(window.location.href=rstore.cart_url):void b(a)}).fail(function(a,b,c){alert(c)}).always(function(){d.prop("disabled",!1)})}a(document).ready(function(){c(),a(".rstore-add-to-cart").on("click",d)})}(jQuery);